# Bot mode:
# - tv_master       : TradingView webhook is master (Mode A)
# - binance_master  : Binance candles are master (Mode B)
mode: binance_master

paper: true

tv_bridge:
  enabled: true
  host: 127.0.0.1
  port: 9001
  path: /tv
  secret: "9a834ab0629a7e2193cab2bfe91760faa3adebaf0d9b200bcb114cc183b30c93"
  require_tf_match: true

mt5:
  login: 1061523
  password: "11230428018Fx!"
  server: "EGMSecurities-Demo"
  path: "C:\\Program Files\\MetaTrader 5\\terminal64.exe"  # optional path to terminal64.exe on Windows

# Timeframe for parity engine and Binance candles (string, e.g. "15m", "1h")
timeframe: "15m"

# TradingView "tf" normalization expected (for Mode A tf match)
expected_tf: "15m"

# Symbols from Binance / TradingView (BTCUSDT, etc.)
symbols:
  - BTCUSDT
  - ETHUSDT
  - SOLUSDT
  - PAXGUSDT
  - XAGUSDT

# Symbol mapping (TV/Binance -> MT5 symbol)
# Update these to your broker's exact MT5 symbol names.
symbol_map:
  BTCUSDT: BTCUSD.lv
  ETHUSDT: ETHUSD.lv
  SOLUSDT: SOLUSD.lv
  PAXGUSDT: XAUUSD
  XAGUSDT: XAGUSD
  XAUUSD: XAUUSD
  XAGUSD: XAGUSD

binance:
  venue: usdm   # spot | usdm
  poll_seconds: 1.0
  limit: 500
  api_base: ""  # optional override

strategy:
  donLen: 120
  pivotLen: 5
  oscLen: 14
  extBandPct: 0.15

  tradeAllDivergences: true

  longOnly: true
  entryMode: "Confirm"         # Raw | Confirm
  minDivStrength: 15.0
  cooldownBars: 0

  useCvdGate: true
  cvdLenMin: 60

  useDynamicCvdPct: true
  cvdLookbackBars: 2880
  cvdPct: 75
  cvdThreshold: 244.075

  useBOSConfirm: true
  bosAtrBuffer: 0.10
  maxWaitBars: 30

risk:
  lot: 0.01
  sl_atr_mult: 1.5
  tp_atr_mult: 3.0
  deviation: 20
  magic: 260110
  comment: "TV/Binance PineParity LONG"

telegram:
  enabled: true
  token: "8232911163:AAGxqJQsKD3wol6huAISPUcST_F2fY1u2G4"
  chat_id: "5195322248"   # or negative for a group, e.g. "-100123..."
  throttle_seconds: 20

  notify_startup: true
  notify_entry: true
  notify_exits: true
  notify_failures: true
  notify_rejects: true
  notify_stale_feed: true

trade_tracker:
  enabled: false
  poll_seconds: 1.0
  history_days: 7
